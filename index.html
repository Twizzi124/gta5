<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GTA 5 RP - Бонуспоинты</title>
<style>
body { font-family: Arial, sans-serif; background:#1c1c1c; color:#f0f0f0; padding:20px; }
h1 { text-align:center; color:#ffcc00; margin-bottom:20px; }
#vipToggle { display:flex; align-items:center; justify-content:center; margin-bottom:20px; }
#vipToggle label { margin-left:10px; font-size:1.2em; color:#00ccff; }
#resetCheckboxes { padding:10px 20px; font-size:1em; cursor:pointer; display:block; margin:0 auto 20px auto; }
.category { font-weight:bold; font-size:1.2em; margin-top:20px; color:#ff6600; text-align:center; }
table { width:100%; border-collapse: collapse; margin-bottom:20px; table-layout: fixed; }
th, td { border:1px solid #555; padding:10px; text-align:center; word-wrap: break-word; }
th { background-color:#333; }
tr:nth-child(even) { background-color:#2a2a2a; }
input[type="checkbox"] { transform: scale(1.5); }
input[type="number"] { width:50px; padding:5px; font-size:1em; text-align:center; background:#333; color:#fff; border:1px solid #555; border-radius:4px; }
tr.checked { background-color: #006400 !important; } /* зелёная подсветка */
#totalBPContainer { font-size:1.5em; text-align:center; margin-top:20px; color:#00ff00; }
</style>
</head>
<body>

<h1>GTA 5 RP - Бонуспоинты</h1>

<div id="vipToggle">
  <input type="checkbox" id="vipCheckbox">
  <label for="vipCheckbox">VIP x2 BP</label>
</div>

<button id="resetCheckboxes">Отменить всё</button>

<!-- Таблицы с бонуспоинтами -->

<div class="category">Одиночные</div>
<table id="solo">
  <thead><tr><th>Действие</th><th>BP</th><th>Выполнено</th></tr></thead>
  <tbody>
    <tr><td>Арендовать Киностудию (с VIP скидкой)</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Выполнить 1 успешную тренировку в тире</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Выиграть в казино, поставив на 0 или 00</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Провести 3 часа в игре</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Выполнить 20 подходов на тренажёре</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Купить 1 лотерейный билет через телефон</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Добавить 5 видео в Кинотеатр</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
  </tbody>
</table>

<div class="category">Работа</div>
<table id="work">
  <thead><tr><th>Действие</th><th>BP</th><th>Выполнено</th></tr></thead>
  <tbody>
    <tr><td>Выполнить 25 действий в порту</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Выполнить 25 действий на стройке</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Выполнить 25 действий на шахте</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Потушить 25 огоньков, работая пожарным</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Доставить 10 посылок, работая почтальоном</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Выполнить 10 действий на ферме</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Выполнить 2 рейса на любом маршруте, работая водителем автобуса</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
  </tbody>
</table>

<div class="category">Парные</div>
<table id="pair">
  <thead><tr><th>Действие</th><th>BP</th><th>Выполнено</th></tr></thead>
  <tbody>
    <tr><td>Выиграть 1 гонку на картинге</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Проехать 1 уличную гонку</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Победить 3 раза в Dance Battle</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Выиграть 3 игры на Арене Maze Bank со ставкой от 100$</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Выиграть 5 игр в ТК со ставкой от 100$</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
  </tbody>
</table>

<div class="category">Crime</div>
<table id="crime">
  <thead><tr><th>Действие</th><th>BP</th><th>Выполнено</th></tr></thead>
  <tbody>
    <tr><td>Привезти на титул Хаммер с ВЗХ</td><td><input type="number" value="3" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>5 раз получить оплату за доставку контрабанды в мафии</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Взломать 15 замков на ограблениях домов и/или угонах авто</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Закрасить 7 граффити, находясь в банде</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
  </tbody>
</table>

<div class="category">Гос</div>
<table id="gov">
  <thead><tr><th>Действие</th><th>BP</th><th>Выполнено</th></tr></thead>
  <tbody>
    <tr><td>Выдать 5 медкарт, работая в EMS</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Закрыть 15 вызовов, работая в EMS</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Произвести 1 арест в КПЗ LSPD/LSSD</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Поставить 2 транспортных средства на учёт, работая в LSPD</td><td><input type="number" value="1" min="0"></td><td><input type="checkbox"></td></tr>
    <tr><td>Закрыть 5 вызовов, работая в гос. (например, Код-0)</td><td><input type="number" value="2" min="0"></td><td><input type="checkbox"></td></tr>
  </tbody>
</table>

<div id="totalBPContainer">
  Общее BP: <input type="number" id="totalBP" value="0" min="0">
</div>

<script>
const vipCheckbox = document.getElementById('vipCheckbox');
const tables = document.querySelectorAll('table');
const totalBPInput = document.getElementById('totalBP');
const resetBtn = document.getElementById('resetCheckboxes');

// Восстановление данных
if(localStorage.getItem('totalBP')) totalBPInput.value = localStorage.getItem('totalBP');
if(localStorage.getItem('vip') === 'true') vipCheckbox.checked = true;

function updateTotal() {
  let total = 0;
  const vipMultiplier = vipCheckbox.checked ? 2 : 1;

  tables.forEach(table => {
    table.querySelectorAll('tbody tr').forEach((row, index) => {
      const checkbox = row.querySelector('input[type="checkbox"]');
      const bpInput = row.querySelector('input[type="number"]');
      const bp = parseInt(bpInput.value) || 0;

      if (checkbox.checked) {
        total += bp * vipMultiplier;
        row.classList.add('checked');
      } else {
        row.classList.remove('checked');
      }

      localStorage.setItem('checkbox_' + table.id + '_' + index, checkbox.checked);
      localStorage.setItem('bp_' + table.id + '_' + index, bpInput.value);
    });
  });

  totalBPInput.value = total;
  localStorage.setItem('totalBP', total);
}

// Восстановление состояний
tables.forEach(table => {
  table.querySelectorAll('tbody tr').forEach((row, index) => {
    const checkbox = row.querySelector('input[type="checkbox"]');
    const bpInput = row.querySelector('input[type="number"]');

    if(localStorage.getItem('checkbox_' + table.id + '_' + index) === 'true') {
        checkbox.checked = true;
        row.classList.add('checked');
    }
    if(localStorage.getItem('bp_' + table.id + '_' + index)) bpInput.value = localStorage.getItem('bp_' + table.id + '_' + index);

    checkbox.addEventListener('change', updateTotal);
    bpInput.addEventListener('change', updateTotal);
  });
});

// VIP x2
vipCheckbox.addEventListener('change', () => {
  localStorage.setItem('vip', vipCheckbox.checked);
  updateTotal();
});

// Кнопка "Отменить всё"
resetBtn.addEventListener('click', () => {
  tables.forEach(table => {
    table.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
  });
  updateTotal();
});

// Инициализация
updateTotal();
</script>

</body>
</html>

